setwd("/data")
setwd("/data")
setwd("data")
library(rgrass)
library(terra)
library(dplyr)
library(ggplot2)
library(ggpubr)
plot(read_RAST("MorFeat"))
install.packages("raster")
install.packages("raster")
detach("package:rgrass", unload = TRUE)
library(raster)
plot(raster("MorFeat"))
Carona<-raster(c("DTM_SBC","Slope","TWI","River_cost","Lakes_cost",
"North","East","Profile","Lithology","Permeability",
"Avalanche","MorFeat"))
Carona<-stack("DTM_SBC","Slope","TWI","River_cost","Lakes_cost",
"North","East","Profile","Lithology","Permeability",
"Avalanche","MorFeat")
Carona<-brick("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat")
raster("DTM_SBC")
raster("DTM")
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat")
Carona$Lithology
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat", varname = "filename")
View(Carona)
projection(Carona$DTM_SBC.Pred_Mod_2023)
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat", varname = "filename")
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat", varname = "")
Carona$Lithology
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat", varname = "")
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat")
Carona<-stack("DTM","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche.tiff","MorFeat")
Carona<-stack("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat")
Carona<-stack("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat")
class(Carona$Lithology)
is.factor(Carona$Lithology)
Carona$Lithology<-as.factor(Carona$Lithology)
is.factor(Carona$Lithology)
Carona$Permeability<-as.factor(Carona$Permeability)
Carona$Avalanche<-as.factor(Carona$Avalanche)
Carona$MorFeat<-as.factor(Carona$MorFeat)
library(sf)
Sites<-sf("Cottages_SBC")
Sites<-st_read("Cottages_SBC")
No_Sites<-st_read("Random90")
# Tables creation
sitestab<-data.frame(extract(Carona, Sites),name=rep(1,length(Sites)))
nositestab<-data.frame(extract(Carona, No_Sites),name=rep(0,length(No_Sites)))
#### DATA UPLOAD ####
library(rgrass)
library(terra)
library(dplyr)
library(ggplot2)
library(ggpubr)
setwd("data")
Carona<-read_VECT(c("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat"))
Carona<-read_RAST(c("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","Lithology","Permeability","Avalanche","MorFeat"))
is.factor(Carona$Lithology)
Carona$Lithology<-as.factor(Carona$Lithology)
Carona$Permeability<-as.factor(Carona$Permeability)
Carona$Avalanche<-as.factor(Carona$Avalanche)
Carona$MorFeat<-as.factor(Carona$MorFeat)
Sites<-read_VECT("Cottages_SBC")
No_Sites<-read_VECT("Random90")
sitestab<-data.frame(extract(Carona, Sites),name=rep(1,length(Sites)))
nositestab<-data.frame(extract(Carona, No_Sites),name=rep(0,length(No_Sites)))
tab<-rbind(sitestab,nositestab)
tab$Lithology<-as.factor(tab$Lithology)
tab$Permeability<-as.factor(tab$Permeability)
tab$Avalanche<-as.factor(tab$Avalanche)
tab$MorFeat<-as.factor(tab$MorFeat)
tab$evidence<-as.factor(tab$name)
tab_cat<-data.frame(tab$Lithology,tab$Permeability,tab$Avalanche,tab$MorFeat,tab$name)
colnames(tab_cat)<-c("Lithology","Permeability","Avalanche","MorFeat","name")
tab_num<-data.frame(tab$DTM_SBC,tab$Slope,tab$TWI,tab$River_cost,tab$Lakes_cost,tab$North,tab$East,tab$Profile,tab$name)
colnames(tab_num)<-c("DTM_SBC","Slope","TWI","River_cost","Lakes_cost","North","East","Profile","name")
sites_num<-subset(tab_num, name == 1)
sites_num<-select(sites_num,-name)
nosites_num<-subset(tab_num, name == 0)
nosites_num<-select(nosites_num,-name)
sites_cat<-subset(tab_cat, name == 1)
sites_cat<-select(sites_cat, -name)
nosites_cat<-subset(tab_cat, name == 0)
nosites_cat<-select(nosites_cat, -name)
sitestab
